{% extends 'base.html.twig' %}
{% block title%} Liste des Utilisateurs{% endblock %}

{% block body %}
    {% include('site/navbar/navbar.html.twig') %}
    <div class="container" style="margin-top: 5%" >
        <section>

            <style>
                .card-list li.page-item {
                    height: 36px;
                }
                .card-list .form-check-input[type="checkbox"] + label:before, .form-check-input[type="checkbox"]:not(.filled-in) + label:after, label.btn input[type="checkbox"] + label:before, label.btn input[type="checkbox"]:not(.filled-in) + label:after {
                    margin-top: 0;
                }
                .card-list .form-check-input[type="checkbox"] + label, label.btn input[type="checkbox"] + label {
                    height: 15px;
                }
                .card-list .form-check {
                    height: 0;
                }
                .card-list .badge {
                    height: 18px;
                    margin-top: 3px;
                }
            </style>
            <div class="container my-5">


                <!--Section: Content-->
                <section class="dark-grey-text text-center" style="margin-top: 10%">
                    <h3 class="font-weight-bold black-text mb-4 pb-2">Liste des utilisateurs</h3>
                    <!--First row-->
                    <div class="row">
                        <div class="card-body">
                            <table class="table">
                                <thead>
                                <tr>
                                    <th>Id</th>
                                    <th>Email</th>
                                    <th>Username</th>
                                    <th>Roles</th>
                                    <th>actions</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for user in users %}
                                    <tr>
                                        <td>{{ user.id }}</td>
                                        <td>{{ user.email }}</td>
                                        <td>{{ user.username }}</td>
                                        <td>{{ user.roles[0] ? user.roles[0]|json_encode : '' }}</td>
                                        <td>
                                            <a class="btn btn-success" href="{{ path('admin_modificationutilisateur', {'id': user.id}) }}">Modifier</a>
                                        </td>
                                    </tr>
                                {% else %}
                                    <tr>
                                        <td colspan="6">aucun utilisateur</td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <!--First row-->
                </section>


            </div>
        </section>
    </div>
    {% include('site/footer/footer.html.twig') %}
{% endblock %}